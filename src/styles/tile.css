/* 2D Tile base */
.tile {
  position: relative;
  width: var(--tile-size, 56px);
  height: var(--tile-size, 56px);
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  user-select: none;
  -webkit-user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Top face - now the only face */
.tile-top {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: calc(var(--tile-size, 56px) * 0.45);
  border-radius: 6px;
  overflow: hidden;
}

/* === Hidden state (jade stone 비취색) === */
.tile-hidden .tile-top {
  background: linear-gradient(135deg, var(--tile-hidden-light), var(--tile-hidden-dark));
  box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.25), inset 0 -1px 2px rgba(0, 0, 0, 0.15);
}

.tile-hidden:hover {
  transform: scale(1.05);
  z-index: 1;
}

.tile-hidden:hover .tile-top {
  background: linear-gradient(135deg, var(--tile-hover-light), var(--tile-hover-dark));
  box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.3), 0 0 12px rgba(100, 200, 200, 0.2);
}

/* === Revealed state (sand base) === */
.tile-revealed .tile-top {
  background: linear-gradient(135deg, var(--tile-revealed-light), var(--tile-revealed-dark));
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), inset 0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* === Flagged state === */
.tile-flagged .tile-top {
  background: linear-gradient(135deg, var(--tile-flag-light), var(--tile-flag-dark));
  box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.15);
}

.tile-flagged .tile-emoji {
  animation: flagWave 1.5s ease-in-out infinite;
}

/* === Mine state === */
.tile-mine .tile-top {
  background: linear-gradient(135deg, var(--tile-mine-light), var(--tile-mine-dark));
  box-shadow: 0 0 16px rgba(255, 80, 80, 0.5), inset 0 0 8px rgba(255, 0, 0, 0.2);
}

/* === Exit state === */
.tile-exit .tile-top {
  background: linear-gradient(135deg, var(--tile-exit-light), var(--tile-exit-dark));
  box-shadow: 0 0 20px rgba(100, 255, 150, 0.3), 0 0 8px rgba(255, 215, 0, 0.2);
}

.tile-exit .tile-emoji {
  animation: exitGlow 2s ease-in-out infinite;
}

/* === Emoji display === */
.tile-emoji {
  font-size: calc(var(--tile-size, 56px) * 0.5);
  line-height: 1;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

/* === Danger level backgrounds (sand→ocean) === */
.tile-danger-1 .tile-top { background: linear-gradient(135deg, var(--tile-danger-1-light), var(--tile-danger-1-dark)); }
.tile-danger-2 .tile-top { background: linear-gradient(135deg, var(--tile-danger-2-light), var(--tile-danger-2-dark)); }
.tile-danger-3 .tile-top { background: linear-gradient(135deg, var(--tile-danger-3-light), var(--tile-danger-3-dark)); }
.tile-danger-4 .tile-top { background: linear-gradient(135deg, var(--tile-danger-4-light), var(--tile-danger-4-dark)); }
.tile-danger-5 .tile-top { background: linear-gradient(135deg, var(--tile-danger-5-light), var(--tile-danger-5-dark)); }
.tile-danger-6 .tile-top { background: linear-gradient(135deg, var(--tile-danger-6-light), var(--tile-danger-6-dark)); }
.tile-danger-7 .tile-top { background: linear-gradient(135deg, var(--tile-danger-7-light), var(--tile-danger-7-dark)); }
.tile-danger-8 .tile-top { background: linear-gradient(135deg, var(--tile-danger-8-light), var(--tile-danger-8-dark)); box-shadow: 0 0 12px rgba(30, 100, 180, 0.3); }

/* Danger emoji hint on movable tiles */
.tile-hint-emoji {
  font-size: calc(var(--tile-size, 56px) * 0.38);
  opacity: 0.5;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

/* === Rabbit state === */
.tile-rabbit {
  z-index: 2;
}

.tile-rabbit .tile-top {
  box-shadow: 0 0 16px rgba(255, 200, 100, 0.5), 0 0 4px rgba(255, 215, 0, 0.3);
}

.tile-rabbit .tile-emoji-rabbit {
  animation: rabbitIdle 2s ease-in-out infinite;
}

/* === Movable tile highlight === */
.tile-movable .tile-top {
  animation: movablePulse 1.5s ease-in-out infinite;
}

.tile-movable:hover {
  transform: scale(1.08);
  z-index: 1;
}

.tile-movable:hover .tile-top {
  box-shadow: inset 0 0 0 2px rgba(100, 200, 255, 0.8), 0 0 16px rgba(100, 200, 255, 0.4);
}

/* Mobile adjustments - minimal since no 3D */
@media (max-width: 768px) {
  .tile-top {
    border-radius: 4px;
  }
}
